---
phase: 02-static-content-seo
plan: 04
type: execute
wave: 3
depends_on: ["02-02", "02-03"]
files_modified:
  - app/page.tsx
  - app/sitemap.ts
  - app/robots.ts
  - app/opengraph-image.tsx
autonomous: false

must_haves:
  truths:
    - "Social media preview shows correct title, description, and branded image when sharing site URL"
    - "Search engines see structured data (JSON-LD LocalBusiness schema) in page source"
    - "sitemap.xml is accessible at /sitemap.xml with correct URL"
    - "robots.txt allows crawling and references sitemap"
    - "Visitor sees the complete, polished landing page with all sections flowing correctly"
  artifacts:
    - path: "app/page.tsx"
      provides: "JSON-LD structured data embedded in page"
      contains: "application/ld+json"
    - path: "app/sitemap.ts"
      provides: "Dynamic sitemap generation"
      exports: ["default"]
    - path: "app/robots.ts"
      provides: "Robots.txt configuration"
      exports: ["default"]
    - path: "app/opengraph-image.tsx"
      provides: "Dynamic OG image generation"
      exports: ["default"]
  key_links:
    - from: "app/page.tsx"
      to: "search engines"
      via: "JSON-LD script tag in page output"
      pattern: "application/ld\\+json"
    - from: "app/sitemap.ts"
      to: "search engines"
      via: "/sitemap.xml route"
      pattern: "MetadataRoute.Sitemap"
    - from: "app/robots.ts"
      to: "app/sitemap.ts"
      via: "sitemap URL reference in robots.txt"
      pattern: "sitemap"
    - from: "app/opengraph-image.tsx"
      to: "social media platforms"
      via: "auto-discovered /opengraph-image route"
      pattern: "ImageResponse"
---

<objective>
Add SEO assets (JSON-LD structured data, sitemap, robots.txt, OG image) and verify the complete landing page works end-to-end with a human visual check.

Purpose: SEO assets ensure the site is discoverable by search engines and displays correctly in social media shares. The human checkpoint confirms the entire Phase 2 delivers a visually polished, complete landing page.
Output: JSON-LD in page.tsx, sitemap.ts, robots.ts, opengraph-image.tsx, and verified complete page.
</objective>

<execution_context>
@C:\Users\Kamal\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\Kamal\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-static-content-seo/02-CONTEXT.md
@.planning/phases/02-static-content-seo/02-RESEARCH.md

# Need completed page from Plans 02 and 03
@.planning/phases/02-static-content-seo/02-02-SUMMARY.md
@.planning/phases/02-static-content-seo/02-03-SUMMARY.md
@app/page.tsx
@app/layout.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: SEO assets -- JSON-LD, sitemap, robots, OG image</name>
  <files>
    app/page.tsx
    app/sitemap.ts
    app/robots.ts
    app/opengraph-image.tsx
  </files>
  <action>
**JSON-LD structured data in page.tsx:**
Add a JSON-LD script tag at the top of the page component's return JSX (before the first section). Use LocalBusiness schema per RESEARCH.md:

```typescript
const jsonLd = {
  '@context': 'https://schema.org',
  '@type': 'LocalBusiness',
  name: 'Reiki Healing Practice',
  description: 'Professional Reiki healing and energy work sessions for stress relief, emotional balance, and holistic wellness',
  image: '/opengraph-image',
  telephone: '+7-XXX-XXX-XX-XX',
  email: 'info@reiki-practice.com',
  priceRange: '$$',
  address: {
    '@type': 'PostalAddress',
    addressLocality: 'Moscow',
    addressCountry: 'RU',
  },
  openingHours: 'Mo-Sa 10:00-20:00',
  sameAs: [],
}
```

Render as:
```tsx
<script
  type="application/ld+json"
  dangerouslySetInnerHTML={{
    __html: JSON.stringify(jsonLd).replace(/</g, '\\u003c'),
  }}
/>
```

IMPORTANT: Use `.replace(/</g, '\\u003c')` for XSS prevention per RESEARCH.md pitfall #5.

**sitemap.ts:**
Create `app/sitemap.ts` using Next.js MetadataRoute:

```typescript
import type { MetadataRoute } from 'next'

export default function sitemap(): MetadataRoute.Sitemap {
  const baseUrl = process.env.VERCEL_PROJECT_PRODUCTION_URL
    ? `https://${process.env.VERCEL_PROJECT_PRODUCTION_URL}`
    : 'http://localhost:3000'

  return [
    {
      url: baseUrl,
      lastModified: new Date(),
      changeFrequency: 'monthly',
      priority: 1,
    },
  ]
}
```

**robots.ts:**
Create `app/robots.ts` using Next.js MetadataRoute:

```typescript
import type { MetadataRoute } from 'next'

export default function robots(): MetadataRoute.Robots {
  const baseUrl = process.env.VERCEL_PROJECT_PRODUCTION_URL
    ? `https://${process.env.VERCEL_PROJECT_PRODUCTION_URL}`
    : 'http://localhost:3000'

  return {
    rules: {
      userAgent: '*',
      allow: '/',
    },
    sitemap: `${baseUrl}/sitemap.xml`,
  }
}
```

**opengraph-image.tsx:**
Create a dynamic OG image using Next.js ImageResponse. This generates a branded 1200x630 image for social sharing:

```typescript
import { ImageResponse } from 'next/og'

export const runtime = 'edge'
export const alt = 'Reiki Healing - Find Balance and Inner Peace'
export const size = { width: 1200, height: 630 }
export const contentType = 'image/png'

export default async function Image() {
  return new ImageResponse(
    (
      <div
        style={{
          height: '100%',
          width: '100%',
          display: 'flex',
          flexDirection: 'column',
          alignItems: 'center',
          justifyContent: 'center',
          backgroundColor: '#1a1a2e',
          backgroundImage: 'linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)',
        }}
      >
        <div
          style={{
            display: 'flex',
            flexDirection: 'column',
            alignItems: 'center',
            gap: '20px',
          }}
        >
          <div
            style={{
              fontSize: 64,
              fontWeight: 'bold',
              color: 'white',
              textAlign: 'center',
              lineHeight: 1.2,
            }}
          >
            Reiki Healing
          </div>
          <div
            style={{
              fontSize: 28,
              color: '#d4a574',
              textAlign: 'center',
            }}
          >
            Find Balance and Inner Peace
          </div>
          <div
            style={{
              fontSize: 20,
              color: '#a0a0b0',
              textAlign: 'center',
              marginTop: '10px',
            }}
          >
            Professional Energy Healing Sessions
          </div>
        </div>
      </div>
    ),
    { ...size }
  )
}
```

Use inline styles only (ImageResponse does not support Tailwind). Use a dark gradient background with the site name in white and tagline in accent gold color. Keep it simple and branded.

**Do NOT install schema-dts** -- it's optional per RESEARCH.md and we don't need TypeScript types for a simple JSON-LD object. Keep dependencies minimal.
  </action>
  <verify>
Run `npm run build` -- must succeed with zero errors.
Run `npm run dev` and verify:
1. View page source -- JSON-LD script tag present with LocalBusiness schema
2. Visit http://localhost:3000/sitemap.xml -- returns valid XML sitemap
3. Visit http://localhost:3000/robots.txt -- returns robots.txt with sitemap reference
4. Visit http://localhost:3000/opengraph-image -- returns a PNG image (1200x630)
  </verify>
  <done>
- page.tsx contains JSON-LD LocalBusiness structured data with XSS prevention
- sitemap.ts generates /sitemap.xml with correct base URL
- robots.ts generates /robots.txt allowing all crawlers with sitemap reference
- opengraph-image.tsx generates branded 1200x630 social preview image
- Build passes with zero errors
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Visual verification of complete landing page</name>
  <what-built>Complete Phase 2 landing page with all sections and SEO assets:
- Hero section with background image, headline, and CTA
- About Reiki section with educational content
- How Sessions Work section with 4-step process
- Benefits section with 6 benefit cards
- Trust section with practitioner credentials
- Pricing section with 3 tiers and featured "Best Value" option
- Header with navigation and footer with disclaimer
- SEO: JSON-LD, sitemap, robots.txt, OG image
  </what-built>
  <how-to-verify>
1. Run `npm run dev` in project root
2. Open http://localhost:3000 in browser
3. Verify the following:

**Header:**
- Sticky at top, brand text visible, nav links present (desktop)
- CTA button "Schedule Consultation" in header

**Hero section:**
- Full-screen with background image/visual
- Headline "Find Balance and Inner Peace Through Reiki Healing"
- Subheadline text
- Large CTA button

**Scroll through page (check section order):**
- About Reiki (cream background, educational text)
- How Sessions Work (white background, 4 step cards)
- Benefits (cream background, 6 benefit cards with disclaimer)
- Trust (practitioner info and stats)
- Pricing (3 tiers, middle one highlighted "Best Value")

**Footer:**
- Dark background, three columns
- Scientific disclaimer text visible

**SEO (view source / network):**
- View source: JSON-LD script tag with LocalBusiness
- Visit /sitemap.xml: XML content
- Visit /robots.txt: Robots configuration
- Visit /opengraph-image: Branded image

**Navigation:**
- Click header nav links: Should smooth-scroll to each section
- Click hero CTA: Should scroll to pricing section

4. Check responsive: Resize to mobile width (375px)
   - Header shows brand + CTA (no nav links)
   - All sections stack vertically
   - Cards go single-column
   - Text readable
  </how-to-verify>
  <resume-signal>Type "approved" if the page looks good, or describe specific issues to fix</resume-signal>
</task>

</tasks>

<verification>
1. `npm run build` passes with zero TypeScript errors
2. `npm run lint` passes
3. All SEO assets accessible at their routes
4. JSON-LD validates (paste into Google Rich Results Test)
5. OG image renders at 1200x630
6. Complete page renders all 6 content sections in correct order
7. Human visual approval of overall design and polish
</verification>

<success_criteria>
- JSON-LD structured data present in page source
- /sitemap.xml returns valid sitemap
- /robots.txt returns valid robots config with sitemap reference
- /opengraph-image returns branded PNG
- Complete landing page visually approved by human
- All header nav links scroll to correct sections
- Page is responsive on mobile
</success_criteria>

<output>
After completion, create `.planning/phases/02-static-content-seo/02-04-SUMMARY.md`
</output>
